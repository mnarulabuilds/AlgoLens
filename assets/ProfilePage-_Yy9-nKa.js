import{z as A,r as x,j as e,B as R,C as M,D as g,E as j,G as T,H as V,L as c,t as b,I as w}from"./index-DL1yVxqw.js";import{m as a}from"./proxy-Bx7GV8Ze.js";const z=()=>{const{user:t,updateUser:C,favorites:l,removeFavorite:E,recentlyViewed:r,clearRecentlyViewed:F,getStats:k}=A(),[H,o]=x.useState(!1),[p,v]=x.useState(t.name),[n,N]=x.useState("favorites"),d=k(),S=()=>{C({name:p}),o(!1)},m=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),D=s=>{const i=new Date(s),h=new Date-i,u=Math.floor(h/6e4),y=Math.floor(h/36e5),f=Math.floor(h/864e5);return u<60?`${u}m ago`:y<24?`${y}h ago`:f<30?`${f}d ago`:m(s)};return e.jsx("div",{className:"profile-page",children:e.jsxs(a.div,{className:"profile-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[e.jsxs("div",{className:"profile-header",children:[e.jsx("div",{className:"profile-avatar",children:e.jsx("div",{className:"avatar-circle",children:t.name.charAt(0).toUpperCase()})}),e.jsxs("div",{className:"profile-info",children:[H?e.jsxs("div",{className:"edit-name-group",children:[e.jsx("input",{type:"text",value:p,onChange:s=>v(s.target.value),className:"name-input",placeholder:"Enter your name"}),e.jsx("button",{onClick:S,className:"save-btn",children:"Save"}),e.jsx("button",{onClick:()=>{o(!1),v(t.name)},className:"cancel-btn",children:"Cancel"})]}):e.jsxs("div",{className:"name-display",children:[e.jsx("h1",{children:t.name}),e.jsx("button",{onClick:()=>o(!0),className:"edit-btn",title:"Edit name",children:e.jsx(R,{})})]}),e.jsxs("p",{className:"join-date",children:[e.jsx(M,{})," Joined ",m(t.joinedDate)]})]})]}),e.jsxs("div",{className:"stats-grid",children:[e.jsxs(a.div,{className:"stat-card",whileHover:{scale:1.05},transition:{type:"spring",stiffness:300},children:[e.jsx(g,{className:"stat-icon favorites-icon"}),e.jsxs("div",{className:"stat-content",children:[e.jsx("h3",{children:d.totalFavorites}),e.jsx("p",{children:"Favorites"})]})]}),e.jsxs(a.div,{className:"stat-card",whileHover:{scale:1.05},transition:{type:"spring",stiffness:300},children:[e.jsx(j,{className:"stat-icon history-icon"}),e.jsxs("div",{className:"stat-content",children:[e.jsx("h3",{children:d.totalViewed}),e.jsx("p",{children:"Recently Viewed"})]})]}),e.jsxs(a.div,{className:"stat-card",whileHover:{scale:1.05},transition:{type:"spring",stiffness:300},children:[e.jsx(T,{className:"stat-icon progress-icon"}),e.jsxs("div",{className:"stat-content",children:[e.jsx("h3",{children:d.categoriesExplored}),e.jsx("p",{children:"Categories Explored"})]})]})]}),e.jsx("div",{className:"tabs-container",children:e.jsxs("div",{className:"tabs",children:[e.jsxs("button",{className:`tab ${n==="favorites"?"active":""}`,onClick:()=>N("favorites"),children:[e.jsx(g,{})," Favorites (",l.length,")"]}),e.jsxs("button",{className:`tab ${n==="recent"?"active":""}`,onClick:()=>N("recent"),children:[e.jsx(j,{})," Recent (",r.length,")"]})]})}),e.jsxs("div",{className:"tab-content",children:[n==="favorites"&&e.jsx(a.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:l.length===0?e.jsxs("div",{className:"empty-state",children:[e.jsx(V,{className:"empty-icon"}),e.jsx("h3",{children:"No favorites yet"}),e.jsx("p",{children:"Start exploring visualizations and click the star button to add them to your favorites!"}),e.jsx(c,{to:"/",className:"explore-btn",children:"Explore Topics"})]}):e.jsx("div",{className:"items-grid",children:l.map(s=>e.jsx(a.div,{className:"item-card",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},whileHover:{y:-5},children:e.jsxs(c,{to:s.route,className:"item-link",children:[e.jsxs("div",{className:"item-header",children:[e.jsx("span",{className:"item-category",children:s.category}),e.jsx("span",{className:"item-date",children:m(s.addedAt)})]}),e.jsx("h3",{className:"item-title",children:s.label}),e.jsxs("div",{className:"item-footer",children:[e.jsxs("span",{className:"view-link",children:["View ",e.jsx(b,{})]}),e.jsx("button",{onClick:i=>{i.preventDefault(),i.stopPropagation(),E(s.id)},className:"remove-btn",title:"Remove from favorites",children:e.jsx(w,{})})]})]})},s.id))})}),n==="recent"&&e.jsx(a.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:r.length===0?e.jsxs("div",{className:"empty-state",children:[e.jsx(j,{className:"empty-icon"}),e.jsx("h3",{children:"No recent activity"}),e.jsx("p",{children:"Your recently viewed visualizations will appear here."}),e.jsx(c,{to:"/",className:"explore-btn",children:"Start Exploring"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"clear-history-container",children:e.jsxs("button",{onClick:F,className:"clear-history-btn",children:[e.jsx(w,{})," Clear History"]})}),e.jsx("div",{className:"items-list",children:r.map(s=>e.jsx(a.div,{className:"list-item",initial:{x:-20,opacity:0},animate:{x:0,opacity:1},whileHover:{x:5},children:e.jsxs(c,{to:s.route,className:"list-item-link",children:[e.jsxs("div",{className:"list-item-content",children:[e.jsx("span",{className:"list-item-category",children:s.category}),e.jsx("h4",{className:"list-item-title",children:s.label}),e.jsx("span",{className:"list-item-time",children:D(s.viewedAt)})]}),e.jsx(b,{className:"list-item-arrow"})]})},s.id))})]})})]})]})})};export{z as default};
